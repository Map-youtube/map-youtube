<!DOCTYPE html>
<html>
<head>
  <title>맞춤형 지도 서비스</title>
  <style>
    #map {
      height: 400px;
      width: 100%;
    }
  </style>
  <script async defer
          src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAjMNd7u5X5jetqbFXJEr-hF-Ku8_oReGI&callback=initMap&libraries=places">
  </script>
</head>
<body>
  <div id="map"></div>
  <input type="text" id="search-input" placeholder="장소 검색">
  <button onclick="searchLocation()">검색</button>

  <script>
    let map;
    let markers = [];

    function initMap() {
      map = new google.maps.Map(document.getElementById('map'), {
        center: { lat: 37.5665, lng: 126.9780 },
        zoom: 13
      });

      // ... (나머지 코드는 동일)
    }

    // 검색 기능 (예시)
    function searchLocation() {
      const input = document.getElementById('search-input').value;
      const request = {
        query: input,
        fields: ['name', 'geometry'],
        location: map.getCenter()
      };

      const service = new google.maps.places.PlacesService(map);
      service.findPlaceFromQuery(request, (results, status) => {
        if (status === google.maps.places.PlacesServiceStatus.OK) {
          const place = results[0];
          const geometry = place.geometry.location;
          map.setCenter(geometry);
          new google.maps.Marker({
            map: map,
            position: geometry
          });
        }
      });
    }
  </script>
</body>
</html>
